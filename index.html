<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deyim Oyunu</title>

<style>
body{
margin:0;
font-family:'Segoe UI',sans-serif;
text-align:center;
color:white;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
overflow:hidden;
}

.screen{display:none;padding:30px;}

button{
padding:12px 20px;
margin:8px;
border:none;
border-radius:12px;
font-size:18px;
cursor:pointer;
background:linear-gradient(45deg,#ff9800,#ff5722);
color:white;
transition:.3s;
}
button:hover{transform:scale(1.1);}

#question{
font-size:30px;
margin:25px;
font-weight:bold;
}

.option{
display:block;
width:65%;
margin:12px auto;
font-size:18px;
}

#bigMark{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
font-size:150px;
display:none;
z-index:10;
}

#musicPanel{
margin-top:20px;
}

input[type=range]{
width:200px;
}
</style>
</head>
<body>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/10/25/audio_9468b81c9c.mp3?filename=classical-music-126627.mp3" type="audio/mpeg">
</audio>

<div id="login" class="screen">
<h1>Merhaba ðŸ‘‹</h1>
<h3>YapÄ±mcÄ±: Berk Åžahinler</h3>
<input type="text" id="username" placeholder="KullanÄ±cÄ± adÄ±">
<br><br>
<button onclick="goMenu()">BaÅŸla</button>
</div>

<div id="menu" class="screen">
<h2>Seviye SeÃ§</h2>
<button onclick="startGame('easy')">Kolay (20 dk)</button>
<button onclick="startGame('medium')">Orta (15 dk)</button>
<button onclick="startGame('hard')">Zor (10 dk)</button>

<div id="musicPanel">
<h3>ðŸŽµ MÃ¼zik</h3>
<button onclick="toggleMusic()">AÃ§ / Kapat</button><br><br>
<input type="range" min="0" max="1" step="0.1" value="0.5"
oninput="changeVolume(this.value)">
</div>
</div>

<div id="game" class="screen">
<h2 id="timer"></h2>
<h2 id="score">Puan: 0</h2>
<div id="question"></div>
<div id="options"></div>
</div>

<div id="bigMark"></div>

<script>

let questions=[
{q:"Burnu havada",c:"Kibirli",w:["Mutlu","ÃœzgÃ¼n","Yorgun"]},
{q:"Etekleri zil Ã§almak",c:"Ã‡ok sevinmek",w:["AÄŸlamak","Korkmak","Uyumak"]},
{q:"DÃ¶rt gÃ¶zle beklemek",c:"SabÄ±rsÄ±zlÄ±kla beklemek",w:["GÃ¶rmemek","KaÃ§mak","Susmak"]},
{q:"Pireyi deve yapmak",c:"Abartmak",w:["KÃ¼Ã§Ã¼ltmek","Gizlemek","Unutmak"]},
{q:"Kulak misafiri olmak",c:"Ä°stemeden duymak",w:["BaÄŸÄ±rmak","Anlatmak","Yazmak"]},
{q:"GÃ¶zden dÃ¼ÅŸmek",c:"DeÄŸer kaybetmek",w:["YÃ¼kselmek","Sevinmek","BaÄŸÄ±rmak"]},
{q:"Ä°ÄŸneyle kuyu kazmak",c:"Ã‡ok zor iÅŸ yapmak",w:["KoÅŸmak","Yemek","Uyumak"]},
{q:"TaÅŸ kalpli",c:"AcÄ±masÄ±z",w:["YumuÅŸak","Sevecen","Nazik"]},
{q:"AÄŸzÄ± kulaklarÄ±na varmak",c:"Ã‡ok sevinmek",w:["AÄŸlamak","KÄ±zmak","Korkmak"]},
{q:"Eli aÃ§Ä±k",c:"CÃ¶mert",w:["Cimri","KÄ±zgÄ±n","Tembel"]}
];

let score=0,combo=0,timeLeft=0,timer,currentLevel="";
let music=document.getElementById("music");

document.getElementById("login").style.display="block";

function goMenu(){
let name=document.getElementById("username").value;
if(!name){alert("Ä°sim gir!");return;}

document.getElementById("login").style.display="none";
document.getElementById("menu").style.display="block";

music.volume=0.5;
music.play().catch(()=>{});
}

function toggleMusic(){
if(music.paused){music.play();}
else{music.pause();}
}

function changeVolume(val){
music.volume=val;
}

function startGame(level){
currentLevel=level;
score=0;
combo=0;

document.getElementById("menu").style.display="none";
document.getElementById("game").style.display="block";

if(level==="easy") timeLeft=1200;
if(level==="medium") timeLeft=900;
if(level==="hard") timeLeft=600;

music.volume=0.3;

startTimer();
loadQuestion();
}

function startTimer(){
timer=setInterval(()=>{
timeLeft--;
document.getElementById("timer").innerText="SÃ¼re: "+timeLeft;
if(timeLeft<=0){
clearInterval(timer);
location.reload();
}
},1000);
}

function loadQuestion(){
let q=questions[Math.floor(Math.random()*questions.length)];
document.getElementById("question").innerText=q.q;

let options=[q.c,...q.w];

if(currentLevel==="easy") options=options.slice(0,2);
if(currentLevel==="medium") options=options.slice(0,3);

options=options.sort(()=>Math.random()-0.5);

let html="";
options.forEach(opt=>{
html+=`<button class="option" onclick="checkAnswer('${opt}','${q.c}')">${opt}</button>`;
});
document.getElementById("options").innerHTML=html;
}

function checkAnswer(sel,correct){
let mark=document.getElementById("bigMark");

if(sel===correct){
score+=20;
combo++;
mark.innerHTML="âœ”";
mark.style.color="lime";
speak("Evet yaptÄ±n");

if(combo===4){
speak("Kombo yaptÄ±n dostum");
combo=0;
}

if(score>=400){
speak("Evet oyunu kazandÄ±n");
confetti();
}
}else{
score-=10;
combo=0;
mark.innerHTML="âœ–";
mark.style.color="red";
speak("Ohh yapamadÄ±n");
}

document.getElementById("score").innerText="Puan: "+score;

mark.style.display="block";
setTimeout(()=>{
mark.style.display="none";
loadQuestion();
},1000);
}

function speak(text){
let u=new SpeechSynthesisUtterance(text);
speechSynthesis.speak(u);
}

function confetti(){
for(let i=0;i<40;i++){
let d=document.createElement("div");
d.style.position="absolute";
d.style.width="8px";
d.style.height="8px";
d.style.background=`hsl(${Math.random()*360},100%,50%)`;
d.style.left=Math.random()*100+"%";
d.style.top="0";
d.style.animation="fall 3s linear";
document.body.appendChild(d);
setTimeout(()=>d.remove(),3000);
}
}

</script>

<style>
@keyframes fall{
0%{transform:translateY(0);}
100%{transform:translateY(100vh);}
}
</style>

</body>
</html>
